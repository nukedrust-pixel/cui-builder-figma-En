<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Figma to Rust UI Exporter</title>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #FFFFFF;
      color: #333333;
    }
    
    h1 {
      font-size: 16px;
      font-weight: bold;
      margin-bottom: 20px;
    }
    
    .section {
      margin-bottom: 20px;
    }
    
    .guidelines {
      background-color: #F0F0F0;
      border-radius: 6px;
      padding: 15px;
      margin-bottom: 20px;
      font-size: 12px;
    }
    
    .guidelines h2 {
      font-size: 14px;
      margin-top: 0;
      margin-bottom: 10px;
    }
    
    .guidelines ul {
      padding-left: 20px;
      margin: 0;
    }
    
    .guidelines li {
      margin-bottom: 5px;
    }
    
    .icon-heading {
      display: flex;
      align-items: center;
      gap: 5px;
      margin-bottom: 5px;
      font-weight: bold;
    }
    
    button {
      background-color: #2C2C2C;
      color: white;
      border: none;
      border-radius: 6px;
      padding: 8px 16px;
      cursor: pointer;
      font-size: 14px;
      display: inline-flex;
      align-items: center;
      gap: 5px;
      transition: background-color 0.2s;
    }
    
    button:hover {
      background-color: #444444;
    }
    
    button:disabled {
      background-color: #CCCCCC;
      cursor: not-allowed;
    }
    
    #export-btn {
      background-color: #0D99FF;
    }
    
    #export-btn:hover {
      background-color: #0A80D7;
    }
    
    .error {
      color: #D32F2F;
      background-color: #FFEBEE;
      padding: 10px;
      border-radius: 4px;
      font-size: 13px;
      margin-bottom: 10px;
      display: none;
    }
    
    .success {
      color: #388E3C;
      background-color: #E8F5E9;
      padding: 10px;
      border-radius: 4px;
      font-size: 13px;
      margin-bottom: 10px;
      display: none;
    }
    
    #code-container {
      display: none;
      margin-top: 15px;
    }
    
    textarea {
      width: 100%;
      height: 200px;
      font-family: monospace;
      padding: 10px;
      border: 1px solid #CCCCCC;
      border-radius: 4px;
      resize: vertical;
    }
    
    .code-controls {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
    }
    
    .tab-container {
      display: flex;
      border-bottom: 1px solid #CCCCCC;
      margin-bottom: 15px;
    }
    
    .tab {
      padding: 8px 16px;
      cursor: pointer;
      border-bottom: 2px solid transparent;
    }
    
    .tab.active {
      border-bottom-color: #0D99FF;
      font-weight: bold;
    }
    
    .tab-content {
      display: none;
    }
    
    .tab-content.active {
      display: block;
    }
    
    .image-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 10px;
      margin-top: 15px;
    }
    
    .image-item {
      border: 1px solid #CCCCCC;
      border-radius: 4px;
      padding: 10px;
      text-align: center;
    }
    
    .image-preview {
      width: 100%;
      height: 100px;
      object-fit: contain;
      margin-bottom: 5px;
    }
    
    .image-name {
      font-size: 12px;
      word-break: break-all;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
    
    .download-all-btn {
      width: 100%;
      margin-top: 10px;
    }
    
    .checkbox-control {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }
    
    .checkbox-control input {
      margin-right: 10px;
    }
    
    .preview-controls {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-top: 20px;
    }
    
    .input-group {
      display: flex;
      flex-direction: column;
      gap: 5px;
    }
    
    .input-group label {
      font-size: 14px;
      font-weight: bold;
    }
    
    .input-group input {
      padding: 8px;
      border: 1px solid #CCCCCC;
      border-radius: 4px;
      font-size: 14px;
    }
    
    .status-message {
      margin-top: 15px;
      padding: 10px;
      border-radius: 4px;
      font-size: 14px;
    }
    
    .status-message.success {
      background-color: #E8F5E9;
      color: #388E3C;
    }
    
    .status-message.error {
      background-color: #FFEBEE;
      color: #D32F2F;
    }
  </style>
</head>
<body>
  <h1>Figma to Rust UI Exporter</h1>
  
  <div class="tab-container">
    <div class="tab active" data-tab="export">–≠–∫—Å–ø–æ—Ä—Ç</div>
    <div class="tab" data-tab="guidelines">–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ</div>
    <div class="tab" data-tab="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
    <div class="tab" data-tab="preview">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</div>
  </div>
  
  <div id="export-tab" class="tab-content active">
    <div id="error-message" class="error"></div>
    <div id="success-message" class="success"></div>
    
    <div class="section">
      <p>–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ—Ä–Ω–µ–≤–æ–π —Ñ—Ä–µ–π–º (–¥–æ–ª–∂–µ–Ω –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è "Overlay" –∏–ª–∏ "Hud") –∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É —ç–∫—Å–ø–æ—Ä—Ç–∞:</p>
      <div class="checkbox-control">
        <input type="checkbox" id="export-images" checked>
        <label for="export-images">–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</label>
      </div>
      <button id="export-btn">–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Rust UI</button>
    </div>
    
    <div id="code-container">
      <h2>–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥:</h2>
      <textarea id="code-output" readonly></textarea>
      <div class="code-controls">
        <button id="copy-btn">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</button>
        <button id="download-btn">–°–∫–∞—á–∞—Ç—å .cs —Ñ–∞–π–ª</button>
      </div>
    </div>
    
    <div id="images-container" style="display: none;">
      <h2>–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:</h2>
      <div class="code-controls">
        <button id="download-all-images-btn">–°–∫–∞—á–∞—Ç—å –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (ZIP)</button>
      </div>
      <div id="image-grid" class="image-grid">
        <!-- –°—é–¥–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
      </div>
    </div>
  </div>
  
  <div id="guidelines-tab" class="tab-content">
    <div class="guidelines">
      <h2>üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ UI</h2>
      
      <div class="icon-heading">üñºÔ∏è –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—Ä–µ–π–º—ã, –∞ –Ω–µ –≥—Ä—É–ø–ø—ã</div>
      <ul>
        <li><strong>–ü–æ—á–µ–º—É:</strong> –ì—Ä—É–ø–ø—ã —Å –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞–º–∏ –Ω–µ –±—É–¥—É—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è. –§—Ä–µ–π–º—ã —Å –∑–∞–ª–∏–≤–∫–æ–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∏–µ—Ä–∞—Ä—Ö–∏—é Rust UI.</li>
        <li><strong>–ö–∞–∫:</strong> –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ <strong>—Ñ—Ä–µ–π–º—ã</strong> (Shift + A) –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤. –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ –∑–∞–ª–∏–≤–∫—É –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –∫ —Ñ—Ä–µ–π–º—É (–Ω–µ –∫ –≤–ª–æ–∂–µ–Ω–Ω—ã–º –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞–º).</li>
      </ul>
      
      <div class="icon-heading">üñåÔ∏è –ò–∫–æ–Ω–∫–∏ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</div>
      <ul>
        <li><strong>–ü–æ—á–µ–º—É:</strong> –í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ñ—Ä–µ–π–º—ã –∏–∫–æ–Ω–æ–∫ –≤—ã–∑—ã–≤–∞—é—Ç –æ—à–∏–±–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞.</li>
        <li><strong>–ö–∞–∫:</strong> –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞:
          <ul>
            <li>–ü—Ä–µ–æ–±—Ä–∞–∑—É–π—Ç–µ –∏–∫–æ–Ω–∫–∏ –≤ <strong>–µ–¥–∏–Ω—É—é –≤–µ–∫—Ç–æ—Ä–Ω—É—é —Ñ–æ—Ä–º—É</strong> (–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç—É—Ä–æ–≤)</li>
            <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ PNG, –æ–Ω–∏ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –≤–∫–ª—é—á–µ–Ω—ã –≤ –∫–æ–¥</li>
          </ul>
        </li>
        <li>–©–µ–ª–∫–Ω–∏—Ç–µ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏ –Ω–∞ —Å–ª–æ—è—Ö –∏–∫–æ–Ω–æ–∫ ‚Üí <em>–°–≥–ª–∞–¥–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ</em> –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–ª–∏–≤–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º (image fill)</li>
      </ul>
      
      <div class="icon-heading">üè∑Ô∏è –°–æ–≥–ª–∞—à–µ–Ω–∏—è –ø–æ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—é –∫–æ—Ä–Ω–µ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤</div>
      <ul>
        <li><strong>–ü–æ—á–µ–º—É:</strong> Rust —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ —Å–ª–æ–∏ –Ω–∞–∑—ã–≤–∞–ª–∏—Å—å <strong>Overlay</strong> –∏–ª–∏ <strong>Hud</strong> (—Å —É—á–µ—Ç–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞).</li>
        <li><strong>–ö–∞–∫:</strong> –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –∫–æ—Ä–Ω–µ–≤—ã–µ —Ñ—Ä–µ–π–º—ã –≤ Figma —Ç–æ—á–Ω–æ –≤ `Overlay` –∏–ª–∏ `Hud` –Ω–∞ –ø–∞–Ω–µ–ª–∏ —Å–ª–æ–µ–≤.</li>
      </ul>
      
      <div class="icon-heading">üéöÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π (constraints)</div>
      <ul>
        <li><strong>–ü–æ—á–µ–º—É:</strong> –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫ —ç–ª–µ–º–µ–Ω—Ç—ã –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è –∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É—é—Ç—Å—è –≤ UI-—Å–∏—Å—Ç–µ–º–µ Rust.</li>
        <li><strong>–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:</strong>
          <ul>
            <li><strong>–°–ª–µ–≤–∞/–°–ø—Ä–∞–≤–∞/–ü–æ —Ü–µ–Ω—Ç—Ä—É:</strong> –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∫—Ä–∞—è–º —ç–∫—Ä–∞–Ω–∞.</li>
            <li><strong>–ú–∞—Å—à—Ç–∞–±:</strong> –ü–æ–ª–Ω–∞—è —à–∏—Ä–∏–Ω–∞ (AnchorMin="0 0" AnchorMax="1 1").</li>
          </ul>
        </li>
        <li><strong>–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:</strong>
          <ul>
            <li><strong>–°–≤–µ—Ä—Ö—É/–°–Ω–∏–∑—É/–ü–æ —Ü–µ–Ω—Ç—Ä—É:</strong> –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –≤–µ—Ä—Ö–Ω–µ–º—É/–Ω–∏–∂–Ω–µ–º—É –∫—Ä–∞—é.</li>
            <li><strong>–ú–∞—Å—à—Ç–∞–±:</strong> –ü–æ–ª–Ω–∞—è –≤—ã—Å–æ—Ç–∞ (AnchorMin="0 0" AnchorMax="1 1").</li>
          </ul>
        </li>
      </ul>
      
      <h2>‚ö° –°–æ–≤–µ—Ç—ã</h2>
      <ul>
        <li>–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤ —Ä–µ–∂–∏–º–µ <strong>–ü—Ä–æ—Ç–æ—Ç–∏–ø</strong> Figma, —á—Ç–æ–±—ã –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è.</li>
        <li>–ò–∑–±–µ–≥–∞–π—Ç–µ —Å–º–µ—à–∞–Ω–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –°–ª–µ–≤–∞ + –ú–∞—Å—à—Ç–∞–±), –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ.</li>
        <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <strong>Auto Layout</strong> –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—Ç—Å—Ç—É–ø—ã/–∏–Ω—Ç–µ—Ä–≤–∞–ª—ã).</li>
        <li>–î–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç PNG —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é, –µ—Å–ª–∏ –Ω—É–∂–Ω—ã –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏.</li>
      </ul>
      
      <h2>üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫</h2>
      <ul>
        <li><strong>–≠–∫—Å–ø–æ—Ä—Ç –Ω–µ —É–¥–∞–ª—Å—è?</strong> –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –±–µ–∑—ã–º—è–Ω–Ω—ã—Ö —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–ª–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø.</li>
        <li><strong>–ò–∫–æ–Ω–∫–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç?</strong> –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π —Å–≥–ª–∞–∂–µ–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä—ã –∏–ª–∏ PNG.</li>
        <li><strong>UI —Å–º–µ—â–µ–Ω –≤ Rust?</strong> –ü–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –∏–º–µ–Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.</li>
        <li><strong>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è?</strong> –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫–∞–∫ –∑–∞–ª–∏–≤–∫–∞ (fill) —ç–ª–µ–º–µ–Ω—Ç–∞.</li>
      </ul>
    </div>
  </div>
  
  <div id="settings-tab" class="tab-content">
    <div class="section">
      <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞</h2>
      
      <div class="guidelines" style="margin-bottom: 20px;">
        <p><strong>–≠—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ UI –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.</strong></p>
      </div>
      
      <div class="checkbox-control">
        <input type="checkbox" id="auto-include-images" checked>
        <label for="auto-include-images">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –∫–æ–¥</label>
        <div style="margin-left: 24px; font-size: 12px; color: #777; margin-bottom: 10px;">
          –ö–æ–≥–¥–∞ –≤–∫–ª—é—á–µ–Ω–æ, –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–Ω–µ–¥—Ä–µ–Ω—ã –≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥.
        </div>
      </div>
      
      <div class="checkbox-control">
        <input type="checkbox" id="use-base64">
        <label for="use-base64">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Base64 –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</label>
        <div style="margin-left: 24px; font-size: 12px; color: #777; margin-bottom: 10px;">
          –ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±—É–¥—É—Ç –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ Base64 –∏ –≤–Ω–µ–¥—Ä–µ–Ω—ã –≤ –∫–æ–¥.
          –û—Ç–∫–ª—é—á–∏—Ç–µ, –µ—Å–ª–∏ –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ.
        </div>
      </div>
      
      <div style="margin-top: 20px;">
        <button id="save-settings-btn" style="background-color: #4CAF50;">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
      </div>
      
      <hr style="margin: 30px 0; border: none; border-top: 1px solid #EEE;">
      
      <p>–í –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö –∑–¥–µ—Å—å –ø–æ—è–≤—è—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, —à–∞–±–ª–æ–Ω–æ–≤ –∫–æ–¥–∞ –∏ –¥—Ä—É–≥–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.</p>
    </div>
  </div>
  
  
  
  <!-- –î–æ–±–∞–≤–∏–º JSZip –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è ZIP-–∞—Ä—Ö–∏–≤–æ–≤ -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js"></script>
  
  <script>
    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏
    const tabs = document.querySelectorAll('.tab');
    const tabContents = document.querySelectorAll('.tab-content');
    
    // –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ–± –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö
    let exportedImages = [];
    
    // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
    document.addEventListener('DOMContentLoaded', () => {
      // –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ localStorage, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å
      if (localStorage.getItem('figmaRustUISettings')) {
        try {
          const settings = JSON.parse(localStorage.getItem('figmaRustUISettings'));
          if (settings.exportImages !== undefined) 
            document.getElementById('export-images').checked = settings.exportImages;
          if (settings.autoIncludeImages !== undefined) 
            document.getElementById('auto-include-images').checked = settings.autoIncludeImages;
          if (settings.useBase64 !== undefined) 
            document.getElementById('use-base64').checked = settings.useBase64;
        } catch (e) {
          console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫:', e);
        }
      }
      
      
      document.getElementById('export-images').addEventListener('change', saveSettings);
      document.getElementById('auto-include-images').addEventListener('change', saveSettings);
      document.getElementById('use-base64').addEventListener('change', saveSettings);
    });
    
    
    function saveSettings() {
      const settings = {
        exportImages: document.getElementById('export-images').checked,
        autoIncludeImages: document.getElementById('auto-include-images').checked,
        useBase64: document.getElementById('use-base64').checked
      };
      
      try {
        localStorage.setItem('figmaRustUISettings', JSON.stringify(settings));

        if (document.getElementById('settings-tab').classList.contains('active')) {
          document.getElementById('success-message').textContent = '–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã';
          document.getElementById('success-message').style.display = 'block';
          
          setTimeout(() => {
            document.getElementById('success-message').style.display = 'none';
          }, 1500);
        }
      } catch (e) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫:', e);
      }
    }
    
    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        
        tabs.forEach(t => t.classList.remove('active'));
        tabContents.forEach(c => c.classList.remove('active'));
        
        
        tab.classList.add('active');
        
        
        const tabId = tab.getAttribute('data-tab');
        document.getElementById(`${tabId}-tab`).classList.add('active');
      });
    });
    
    
    function downloadImage(imageData, fileName) {
      const link = document.createElement('a');
      // –°–æ–∑–¥–∞–µ–º Blob –∏–∑ –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
      const blob = new Blob([new Uint8Array(imageData)], { type: 'image/png' });
      const url = URL.createObjectURL(blob);
      
      link.href = url;
      link.download = fileName;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      URL.revokeObjectURL(url);
    }
    
    
    function createImageGridItems(images) {
      const grid = document.getElementById('image-grid');
      grid.innerHTML = ''; // –û—á–∏—â–∞–µ–º —Å–µ—Ç–∫—É
      
      images.forEach(image => {
        const item = document.createElement('div');
        item.className = 'image-item';
        
        // –°–æ–∑–¥–∞–µ–º –ø—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        const blob = new Blob([new Uint8Array(image.imageBytes)], { type: 'image/png' });
        const url = URL.createObjectURL(blob);
        
        // –°–æ–∑–¥–∞–µ–º –ø—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        const img = document.createElement('img');
        img.src = url;
        img.className = 'image-preview';
        
        
        img.onload = () => {
          
        };
        
        
        const name = document.createElement('div');
        name.className = 'image-name';
        name.title = image.fileName;
        name.textContent = image.fileName;
        
        
        const downloadBtn = document.createElement('button');
        downloadBtn.textContent = '–°–∫–∞—á–∞—Ç—å';
        downloadBtn.style.fontSize = '12px';
        downloadBtn.style.padding = '4px 8px';
        downloadBtn.style.marginTop = '5px';
        downloadBtn.onclick = () => downloadImage(image.imageBytes, image.fileName);
        
        
        item.appendChild(img);
        item.appendChild(name);
        item.appendChild(downloadBtn);
        
        
        grid.appendChild(item);
      });
    }
    
   
    async function downloadAllImagesAsZip() {
      if (!exportedImages || exportedImages.length === 0) {
        alert('–ù–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è');
        return;
      }
      
      try {
        const zip = new JSZip();
        
        
        exportedImages.forEach(image => {
          
          zip.file(image.fileName, image.imageBytes);
        });
        
        
        const content = await zip.generateAsync({ type: 'blob' });
        
        
        const link = document.createElement('a');
        link.href = URL.createObjectURL(content);
        link.download = 'rust_ui_images.zip';
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        
        
        document.getElementById('success-message').textContent = '–ê—Ä—Ö–∏–≤ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ —É—Å–ø–µ—à–Ω–æ —Å–∫–∞—á–∞–Ω';
        document.getElementById('success-message').style.display = 'block';
        
        
        setTimeout(() => {
          document.getElementById('success-message').style.display = 'none';
        }, 3000);
      } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ ZIP-–∞—Ä—Ö–∏–≤–∞:', error);
        alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∞—Ä—Ö–∏–≤–∞');
      }
    }
    
    
    document.getElementById('download-all-images-btn').addEventListener('click', downloadAllImagesAsZip);
    
    
    document.getElementById('export-btn').addEventListener('click', () => {
      const shouldExportImages = document.getElementById('export-images').checked;
      
      
      const autoIncludeImages = document.getElementById('auto-include-images').checked;
      const useBase64 = document.getElementById('use-base64').checked;
      
      
      parent.postMessage({ 
        pluginMessage: { 
          type: 'export-ui',
          exportImages: shouldExportImages,
          autoIncludeImages: autoIncludeImages,
          useBase64: useBase64
        } 
      }, '*');
      
      
      document.getElementById('error-message').style.display = 'none';
      document.getElementById('success-message').style.display = 'none';
      
      
      document.getElementById('success-message').textContent = '–≠–∫—Å–ø–æ—Ä—Ç –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ...';
      document.getElementById('success-message').style.display = 'block';
    });
    
    
    document.getElementById('copy-btn').addEventListener('click', () => {
      const codeOutput = document.getElementById('code-output');
      codeOutput.select();
      document.execCommand('copy');
      
      
      document.getElementById('success-message').textContent = '–ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞';
      document.getElementById('success-message').style.display = 'block';
      
      
      setTimeout(() => {
        document.getElementById('success-message').style.display = 'none';
      }, 3000);
    });
    
    
    document.getElementById('download-btn').addEventListener('click', () => {
      const code = document.getElementById('code-output').value;
      const blob = new Blob([code], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      
      const a = document.createElement('a');
      a.href = url;
      a.download = 'RustUI.cs';
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
      
      
      document.getElementById('success-message').textContent = '–§–∞–π–ª —É—Å–ø–µ—à–Ω–æ —Å–∫–∞—á–∞–Ω';
      document.getElementById('success-message').style.display = 'block';
      
      
      setTimeout(() => {
        document.getElementById('success-message').style.display = 'none';
      }, 3000);
    });
    
    
    window.onmessage = (event) => {
      const message = event.data.pluginMessage;
      
      if (!message) return;
      
      if (message.type === 'export-complete') {
        const { data } = message;
        
        if (data.success) {
          
          document.getElementById('code-output').value = data.code;
          document.getElementById('code-container').style.display = 'block';
          
          
          document.getElementById('success-message').textContent = '–≠–∫—Å–ø–æ—Ä—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!';
          document.getElementById('success-message').style.display = 'block';
          
          
          document.getElementById('error-message').style.display = 'none';
          
          
          if (data.images && data.images.length > 0) {
            exportedImages = data.images;
            createImageGridItems(data.images);
            document.getElementById('images-container').style.display = 'block';
          } else {
            document.getElementById('images-container').style.display = 'none';
          }
        } else {
          
          document.getElementById('error-message').textContent = data.error;
          document.getElementById('error-message').style.display = 'block';
          
          
          document.getElementById('code-container').style.display = 'none';
          document.getElementById('success-message').style.display = 'none';
          document.getElementById('images-container').style.display = 'none';
        }
      } else if (message.type === 'show-export') {
        
        tabs.forEach(t => t.classList.remove('active'));
        tabContents.forEach(c => c.classList.remove('active'));
        
        document.querySelector('[data-tab="export"]').classList.add('active');
        document.getElementById('export-tab').classList.add('active');
      } else if (message.type === 'show-settings') {
       
        tabs.forEach(t => t.classList.remove('active'));
        tabContents.forEach(c => c.classList.remove('active'));
        
        document.querySelector('[data-tab="settings"]').classList.add('active');
        document.getElementById('settings-tab').classList.add('active');
      }
    };

    
    document.getElementById('save-settings-btn').addEventListener('click', () => {
      saveSettings();
      
      
      document.getElementById('success-message').textContent = '–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã';
      document.getElementById('success-message').style.display = 'block';
      
      
      setTimeout(() => {
        document.getElementById('success-message').style.display = 'none';
      }, 2000);
    });
    
    
    document.getElementById('preview-btn').addEventListener('click', async () => {
      const serverIp = document.getElementById('server-ip').value;
      const serverPort = document.getElementById('server-port').value;
      const steamId = document.getElementById('steam-id').value;
      
      if (!serverIp || !serverPort || !steamId) {
        showStatus('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è', 'error');
        return;
      }
      
      try {
        
        const response = await fetch(`http://${serverIp}:${serverPort}/preview-ui`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            steamId: steamId,
            uiCode: document.getElementById('code-output').value
          })
        });
        
        if (response.ok) {
          showStatus('–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–ø—É—â–µ–Ω —É—Å–ø–µ—à–Ω–æ', 'success');
          document.getElementById('preview-btn').style.display = 'none';
          document.getElementById('stop-preview-btn').style.display = 'block';
        } else {
          showStatus('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞', 'error');
        }
      } catch (error) {
        showStatus('–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É', 'error');
      }
    });
    
    
    document.getElementById('stop-preview-btn').addEventListener('click', async () => {
      const serverIp = document.getElementById('server-ip').value;
      const serverPort = document.getElementById('server-port').value;
      const steamId = document.getElementById('steam-id').value;
      
      try {
        const response = await fetch(`http://${serverIp}:${serverPort}/stop-preview`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            steamId: steamId
          })
        });
        
        if (response.ok) {
          showStatus('–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω', 'success');
          document.getElementById('preview-btn').style.display = 'block';
          document.getElementById('stop-preview-btn').style.display = 'none';
        } else {
          showStatus('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞', 'error');
        }
      } catch (error) {
        showStatus('–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É', 'error');
      }
    });
    
    
    function showStatus(message, type) {
      const statusElement = document.getElementById('preview-status');
      statusElement.textContent = message;
      statusElement.className = `status-message ${type}`;
      
      setTimeout(() => {
        statusElement.textContent = '';
        statusElement.className = 'status-message';
      }, 3000);
    }
  </script>
</body>
</html> 